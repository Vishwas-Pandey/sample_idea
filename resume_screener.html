<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Resume Screener: Interactive Project Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #f8f7f4;
        color: #44403c;
      }
      .phase-button {
        transition: all 0.2s ease-in-out;
      }
      .phase-button.active {
        background-color: #0ea5e9;
        color: white;
        transform: translateX(10px);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1),
          0 2px 4px -2px rgb(0 0 0 / 0.1);
      }
      .task-card-enter,
      .gemini-idea-enter {
        animation: fadeIn 0.5s ease-out forwards;
        opacity: 0;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .chart-container {
        position: relative;
        width: 100%;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        height: 40vh;
        max-height: 400px;
      }
      .tech-pill {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        margin: 0.25rem;
      }
      .bg-fe {
        background-color: #dbeafe;
        color: #1e40af;
      }
      .bg-be {
        background-color: #dcfce7;
        color: #166534;
      }
      .bg-ml {
        background-color: #fee2e2;
        color: #991b1b;
      }
      .bg-devops {
        background-color: #e5e5e5;
        color: #404040;
      }
      .spinner {
        width: 24px;
        height: 24px;
        border: 3px solid rgba(0, 0, 0, 0.1);
        border-left-color: #0ea5e9;
        border-radius: 50%;
        display: inline-block;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      .task-checkbox-item {
        display: flex;
        align-items: center;
        cursor: pointer;
      }
      .task-checkbox-item input[type="checkbox"] {
        appearance: none;
        width: 1.25rem;
        height: 1.25rem;
        border: 2px solid #a8a29e;
        border-radius: 0.25rem;
        margin-right: 0.75rem;
        cursor: pointer;
        position: relative;
        transition: background-color 0.2s, border-color 0.2s;
        flex-shrink: 0;
      }
      .task-checkbox-item input[type="checkbox"]:checked {
        background-color: #0ea5e9;
        border-color: #0ea5e9;
      }
      .task-checkbox-item input[type="checkbox"]:checked::after {
        content: "✔";
        color: white;
        font-size: 0.8rem;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      .task-checkbox-item label.completed {
        text-decoration: line-through;
        color: #78716c;
      }
    </style>
  </head>
  <body class="antialiased">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
      <header class="text-center mb-10">
        <a
          href="index.html"
          class="text-indigo-600 hover:text-indigo-800 mb-4 inline-block"
          >&larr; Back to Project Hub</a
        >
        <h1 class="text-4xl md:text-5xl font-bold text-stone-800">
          AI Resume Screener
        </h1>
        <p class="mt-2 text-lg text-stone-600 max-w-3xl mx-auto">
          An interactive project plan visualizing the 8-week journey from
          concept to deployment.
        </p>
      </header>
      <div
        id="stats-grid"
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12 text-center"
      >
        <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
          <h3 class="text-3xl font-bold text-sky-600">8</h3>
          <p class="text-stone-500">Week Timeline</p>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
          <h3 class="text-3xl font-bold text-sky-600">6</h3>
          <p class="text-stone-500">Development Phases</p>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
          <h3 class="text-3xl font-bold text-sky-600">4</h3>
          <p class="text-stone-500">Tech Pillars</p>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
          <h3 class="text-3xl font-bold text-sky-600">1</h3>
          <p class="text-stone-500">Complete Application</p>
        </div>
      </div>
      <main class="grid grid-cols-1 lg:grid-cols-12 gap-8">
        <aside class="lg:col-span-3">
          <div
            class="bg-white p-6 rounded-xl shadow-sm border border-stone-200 sticky top-8"
          >
            <h2 class="text-xl font-bold mb-4 text-stone-700">
              Project Phases
            </h2>
            <p class="text-sm text-stone-500 mb-6">
              Select a phase below to dive into its goals, timeline, and
              specific tasks.
            </p>
            <nav id="phase-navigation" class="space-y-2"></nav>
          </div>
        </aside>
        <div class="lg:col-span-9 space-y-8">
          <section
            id="details-pane"
            class="bg-white p-6 sm:p-8 rounded-xl shadow-sm border border-stone-200 min-h-[400px]"
          >
            <div id="phase-header" class="mb-6 pb-4 border-b border-stone-200">
              <h2
                id="phase-title"
                class="text-2xl md:text-3xl font-bold text-stone-800"
              ></h2>
              <p id="phase-goal" class="mt-1 text-stone-600"></p>
            </div>
            <div id="task-list" class="space-y-4"></div>
            <div class="mt-6 pt-6 border-t border-stone-200">
              <button
                id="gemini-button"
                class="flex items-center justify-center w-full px-4 py-3 font-semibold text-white bg-gradient-to-r from-sky-500 to-indigo-500 rounded-lg shadow-md hover:from-sky-600 hover:to-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-transform transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                ✨ Generate Task Ideas
              </button>
              <div id="gemini-loading" class="text-center mt-4 hidden">
                <div
                  class="flex items-center justify-center space-x-2 text-stone-500"
                >
                  <div class="spinner"></div>
                  <span>Generating ideas with Gemini...</span>
                </div>
              </div>
              <div id="gemini-results" class="mt-4 space-y-3"></div>
            </div>
          </section>

          <section
            id="progress-tracker-pane"
            class="bg-white p-6 sm:p-8 rounded-xl shadow-sm border border-stone-200"
          >
            <h2 class="text-2xl font-bold text-stone-800 mb-4">
              Phase Progress Tracker
            </h2>
            <p class="text-stone-600 mb-6">
              Check off the tasks as you complete them for the selected phase.
            </p>
            <div id="progress-list" class="space-y-3"></div>
          </section>

          <section
            class="bg-white p-6 sm:p-8 rounded-xl shadow-sm border border-stone-200"
          >
            <h2 class="text-2xl font-bold text-stone-800 mb-2">
              Workload Distribution
            </h2>
            <p class="text-stone-600 max-w-3xl mb-6">
              This chart visualizes the distribution of work across the
              different technology pillars throughout the project's 8-week
              timeline.
            </p>
            <div class="chart-container">
              <canvas id="workloadChart"></canvas>
            </div>
          </section>
        </div>
      </main>
    </div>
    <script>
      const projectPlan = {
        projectData: [
          {
            phase: "Phase 1: Project Setup & Foundational Backend",
            week: "Week 1",
            goal: "Establish the project structure and get a basic, working backend server running.",
            tasks: [
              {
                category: "Backend",
                task: "Initialize Node.js project and install dependencies (Express, CORS, Mongoose).",
              },
              {
                category: "Backend",
                task: "Set up basic Express server with a health-check endpoint.",
              },
              {
                category: "Backend",
                task: "Connect to MongoDB Atlas database.",
              },
              {
                category: "DevOps",
                task: "Initialize Git and create a monorepo structure.",
              },
              {
                category: "DevOps",
                task: "Create main README.md with project vision.",
              },
            ],
          },
          {
            phase: "Phase 2: Core Frontend & Backend Integration",
            week: "Weeks 2-3",
            goal: "Build the user interface for uploading resumes and viewing results, and connect it to the backend.",
            tasks: [
              {
                category: "Frontend",
                task: "Initialize React project with Vite and set up Tailwind CSS.",
              },
              {
                category: "Frontend",
                task: "Create UI components: Navbar, FileUpload, JobDescription, ResultsDisplay.",
              },
              {
                category: "Frontend",
                task: "Connect UI to backend APIs using Axios/Fetch.",
              },
              {
                category: "Backend",
                task: "Create API endpoint for saving job descriptions.",
              },
              {
                category: "Backend",
                task: "Set up file handling with Multer for resume uploads.",
              },
              {
                category: "Backend",
                task: "Define database schemas for Job and Candidate.",
              },
            ],
          },
          {
            phase: "Phase 3: AI/ML Microservice Development",
            week: "Weeks 4-5",
            goal: "Build the Python service that will parse resumes and score them against a job description.",
            tasks: [
              {
                category: "AI/ML",
                task: "Set up Python virtual environment and Flask/FastAPI server.",
              },
              {
                category: "AI/ML",
                task: "Implement functions to extract raw text from PDF and DOCX files.",
              },
              {
                category: "AI/ML",
                task: "Implement text cleaning logic (lowercase, stop words) with NLTK.",
              },
              {
                category: "AI/ML",
                task: "Implement TF-IDF vectorization and cosine similarity for scoring.",
              },
              {
                category: "AI/ML",
                task: "Create a `/api/ml/screen` endpoint to perform the analysis.",
              },
            ],
          },
          {
            phase: "Phase 4: Full System Integration & Feature Refinement",
            week: "Week 6",
            goal: "Connect the backend to the ML microservice and display real results on the frontend.",
            tasks: [
              {
                category: "Backend",
                task: "Implement logic to call the Python ML service upon resume upload.",
              },
              {
                category: "Backend",
                task: "Save the received score to the database.",
              },
              {
                category: "Frontend",
                task: "Fetch and display real screening results from the backend.",
              },
              {
                category: "Frontend",
                task: "Implement a 'Keyword Gap Analysis' display feature.",
              },
              {
                category: "Frontend",
                task: "Add loading spinners and user-friendly error handling.",
              },
            ],
          },
          {
            phase: "Phase 5: Advanced Features & Model Improvement",
            week: "Week 7",
            goal: "Enhance the screening model and add value-added features.",
            tasks: [
              {
                category: "AI/ML",
                task: "Optional: Upgrade model from TF-IDF to a BERT-based sentence transformer.",
              },
              {
                category: "Backend",
                task: "Implement logic for ranking candidates based on scores.",
              },
              {
                category: "Frontend",
                task: "Display a ranked list of candidates for each job.",
              },
              {
                category: "Frontend",
                task: "Create a detailed view for each candidate showing a score breakdown.",
              },
            ],
          },
          {
            phase: "Phase 6: DevOps, Testing & Deployment",
            week: "Week 8",
            goal: "Prepare the application for production and deploy it.",
            tasks: [
              {
                category: "DevOps",
                task: "Containerize all services (Frontend, Backend, ML) using Docker.",
              },
              {
                category: "DevOps",
                task: "Create a docker-compose.yml for local orchestration.",
              },
              {
                category: "DevOps",
                task: "Set up a CI/CD pipeline with GitHub Actions.",
              },
              {
                category: "DevOps",
                task: "Deploy containers to a cloud platform (e.g., AWS, GCP).",
              },
              {
                category: "Backend",
                task: "Write unit tests for critical backend logic.",
              },
            ],
          },
        ],
        geminiMockResponses: {
          0: [
            "Write initial technical documentation for the backend API structure.",
            "Set up environment variable management.",
            "Create a basic logging middleware.",
          ],
          1: [
            "Implement form validation on the frontend.",
            "Develop a reusable modal component for messages.",
            "Create a skeleton loading state for results.",
          ],
          2: [
            "Research different NLP libraries for text extraction.",
            "Add error handling for corrupted resume files.",
            "Define a clear JSON structure for the API response.",
          ],
          3: [
            "Implement a caching strategy for ML service responses.",
            "Secure the backend-to-ML-service communication.",
            "Refine the UI for keyword gap analysis.",
          ],
          4: [
            "A/B test the performance of the BERT model against TF-IDF.",
            "Add pagination to the ranked candidate list.",
            "Implement a search bar to filter candidates.",
          ],
          5: [
            "Set up monitoring and alerting for the deployed application.",
            "Perform load testing on the API endpoints.",
            "Write a comprehensive deployment guide.",
          ],
        },
        workloadData: {
          labels: [
            "Week 1",
            "Week 2",
            "Week 3",
            "Week 4",
            "Week 5",
            "Week 6",
            "Week 7",
            "Week 8",
          ],
          datasets: [
            {
              label: "Frontend",
              data: [0, 3, 0, 0, 0, 3, 2, 0],
              backgroundColor: "#38bdf8",
            },
            {
              label: "Backend",
              data: [3, 3, 0, 0, 0, 2, 1, 1],
              backgroundColor: "#4ade80",
            },
            {
              label: "AI/ML",
              data: [0, 0, 0, 5, 0, 0, 1, 0],
              backgroundColor: "#f87171",
            },
            {
              label: "DevOps",
              data: [2, 0, 0, 0, 0, 0, 0, 4],
              backgroundColor: "#a3a3a3",
            },
          ],
        },
      };
      let activePhaseIndex = 0;
      const phaseNavigation = document.getElementById("phase-navigation");
      const phaseTitle = document.getElementById("phase-title");
      const phaseGoal = document.getElementById("phase-goal");
      const taskList = document.getElementById("task-list");
      const geminiButton = document.getElementById("gemini-button");
      const geminiLoading = document.getElementById("gemini-loading");
      const geminiResults = document.getElementById("gemini-results");
      const progressList = document.getElementById("progress-list");

      async function callGeminiApi(phaseIndex) {
        geminiButton.disabled = true;
        geminiLoading.classList.remove("hidden");
        geminiResults.innerHTML = "";
        return new Promise((resolve) =>
          setTimeout(
            () => resolve(projectPlan.geminiMockResponses[phaseIndex] || []),
            1500
          )
        );
      }

      async function handleGeminiClick() {
        const ideas = await callGeminiApi(activePhaseIndex);
        geminiLoading.classList.add("hidden");
        geminiButton.disabled = false;
        geminiResults.innerHTML = `<h4 class="font-bold text-stone-700 mb-2">✨ AI-Generated Suggestions</h4>`;
        ideas.forEach((idea, i) => {
          const ideaElement = document.createElement("div");
          ideaElement.className =
            "gemini-idea-enter p-3 bg-indigo-50 rounded-lg border border-indigo-200 text-indigo-800 text-sm";
          ideaElement.style.animationDelay = `${i * 100}ms`;
          ideaElement.textContent = `💡 ${idea}`;
          geminiResults.appendChild(ideaElement);
        });
      }

      function renderPhaseDetails(index) {
        const phase = projectPlan.projectData[index];
        phaseTitle.textContent = `${phase.phase} (${phase.week})`;
        phaseGoal.textContent = phase.goal;
        taskList.innerHTML = "";
        phase.tasks.forEach((task, i) => {
          const pillClass =
            task.category === "Frontend"
              ? "bg-fe"
              : task.category === "Backend"
              ? "bg-be"
              : task.category === "AI/ML"
              ? "bg-ml"
              : "bg-devops";
          const taskEl = document.createElement("div");
          taskEl.className =
            "task-card-enter flex items-start space-x-4 p-4 bg-stone-50 rounded-lg border border-stone-200";
          taskEl.style.animationDelay = `${i * 50}ms`;
          taskEl.innerHTML = `<div><span class="tech-pill ${pillClass}">${task.category}</span></div><p class="flex-1 text-stone-700">${task.task}</p>`;
          taskList.appendChild(taskEl);
        });
        geminiResults.innerHTML = "";
        geminiLoading.classList.add("hidden");
        geminiButton.disabled = false;
      }

      function renderProgressTracker(index) {
        const phase = projectPlan.projectData[index];
        progressList.innerHTML = "";
        if (phase.tasks.length === 0) {
          progressList.innerHTML =
            '<p class="text-stone-500">No tasks in this phase to track.</p>';
          return;
        }
        phase.tasks.forEach((task, i) => {
          const listItem = document.createElement("div");
          listItem.className =
            "task-checkbox-item p-3 bg-stone-50 rounded-lg border border-stone-200 hover:bg-stone-100";
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.id = `task-${index}-${i}`;
          const label = document.createElement("label");
          label.htmlFor = `task-${index}-${i}`;
          label.textContent = task.task;
          label.className = "flex-1 text-stone-700 pl-2";
          listItem.appendChild(checkbox);
          listItem.appendChild(label);
          checkbox.addEventListener("change", () => {
            label.classList.toggle("completed");
          });
          progressList.appendChild(listItem);
        });
      }

      function updateActiveButton(index) {
        phaseNavigation
          .querySelectorAll(".phase-button")
          .forEach((button, i) =>
            button.classList.toggle("active", i === index)
          );
      }

      function handlePhaseClick(index) {
        activePhaseIndex = index;
        renderPhaseDetails(activePhaseIndex);
        renderProgressTracker(activePhaseIndex);
        updateActiveButton(activePhaseIndex);
      }

      function initializeNavigation() {
        projectPlan.projectData.forEach((phase, index) => {
          const button = document.createElement("button");
          button.className =
            "phase-button w-full text-left p-3 rounded-lg hover:bg-sky-100 focus:outline-none focus:ring-2 focus:ring-sky-500";
          button.innerHTML = `<span class="font-semibold text-stone-700">${
            phase.phase.split(":")[0]
          }</span><span class="block text-sm text-stone-500">${
            phase.week
          }</span>`;
          button.addEventListener("click", () => handlePhaseClick(index));
          phaseNavigation.appendChild(button);
        });
      }

      function initializeChart() {
        const ctx = document.getElementById("workloadChart").getContext("2d");
        new Chart(ctx, {
          type: "bar",
          data: projectPlan.workloadData,
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              title: { display: false },
              tooltip: { mode: "index", intersect: false },
            },
            scales: {
              x: { stacked: true, grid: { display: false } },
              y: {
                stacked: true,
                title: { display: true, text: "Number of Core Tasks" },
              },
            },
          },
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        initializeNavigation();
        geminiButton.addEventListener("click", handleGeminiClick);
        handlePhaseClick(0);
        initializeChart();
      });
    </script>
  </body>
</html>
